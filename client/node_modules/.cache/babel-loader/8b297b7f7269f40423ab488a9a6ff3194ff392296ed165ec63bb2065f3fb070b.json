{"ast":null,"code":"import{useState}from\"react\";import{TextField,Button,MenuItem,Container,Typography,Paper}from\"@mui/material\";import{toast}from\"react-toastify\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[subject,setSubject]=useState(\"\");const[message,setMessage]=useState(\"\");const[loading,setLoading]=useState(false);const[searchQuery,setSearchQuery]=useState(\"\");const navigate=useNavigate();const subjects=[\"Bug Report\",\"Feature Recommendation\",\"General Inquiry\",\"Account Issue\",\"Become a Partner\"];const handleSearch=e=>{e.preventDefault();if(searchQuery.trim()){navigate(`/nft?search=${encodeURIComponent(searchQuery)}`);}};const handleSubmit=async e=>{e.preventDefault();try{const response=await fetch(\"http://localhost:5000/user/me\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\"});const data=await response.json();if(data.success&&data.user){setLoading(true);const res=await fetch(\"http://localhost:5000/user/contact\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\",body:JSON.stringify({subject,message})});const result=await res.json();if(result.success){toast.success(result.message||\"Message sent successfully!\");setSubject(\"\");setMessage(\"\");}else{toast.error(result.message||\"Failed to send message.\");}}else{toast.error(\"You must be logged in to send a message.\");}}catch(error){toast.error(\"Failed to check user authentication. Please try again.\");}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",children:[/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{padding:5,textAlign:\"center\",marginBottom:5},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",gutterBottom:true,children:\"Welcome to NFT Marketplace\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Discover and trade unique NFTs\"}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,variant:\"outlined\",placeholder:\"Search for NFTs...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),onKeyDown:e=>{if(e.key===\"Enter\")handleSearch(e);},sx:{marginTop:2,bgcolor:\"#fff\",borderRadius:1}})]}),/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{padding:3,marginBottom:5},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Contact Us\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{select:true,label:\"Subject\",fullWidth:true,value:subject,onChange:e=>setSubject(e.target.value),margin:\"normal\",required:true,children:subjects.map(subj=>/*#__PURE__*/_jsx(MenuItem,{value:subj,children:subj},subj))}),/*#__PURE__*/_jsx(TextField,{label:\"Message\",fullWidth:true,multiline:true,rows:4,value:message,onChange:e=>setMessage(e.target.value),margin:\"normal\",required:true}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",fullWidth:true,disabled:loading,sx:{marginTop:2},children:loading?\"Sending...\":\"Send Message\"})]})]})]});};export default Home;","map":{"version":3,"names":["useState","TextField","Button","MenuItem","Container","Typography","Paper","toast","useNavigate","jsx","_jsx","jsxs","_jsxs","Home","subject","setSubject","message","setMessage","loading","setLoading","searchQuery","setSearchQuery","navigate","subjects","handleSearch","e","preventDefault","trim","encodeURIComponent","handleSubmit","response","fetch","method","headers","credentials","data","json","success","user","res","body","JSON","stringify","result","error","maxWidth","children","elevation","sx","padding","textAlign","marginBottom","variant","gutterBottom","fullWidth","placeholder","value","onChange","target","onKeyDown","key","marginTop","bgcolor","borderRadius","onSubmit","select","label","margin","required","map","subj","multiline","rows","type","color","disabled"],"sources":["C:/Users/pedro/Desktop/NFTradeMarketPlace/client/src/pages/Home.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport {\r\n  TextField,\r\n  Button,\r\n  MenuItem,\r\n  Container,\r\n  Typography,\r\n  Paper,\r\n} from \"@mui/material\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Home = () => {\r\n  const [subject, setSubject] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const subjects = [\r\n    \"Bug Report\",\r\n    \"Feature Recommendation\",\r\n    \"General Inquiry\",\r\n    \"Account Issue\",\r\n    \"Become a Partner\",\r\n  ];\r\n\r\n  const handleSearch = (e) => {\r\n    e.preventDefault();\r\n    if (searchQuery.trim()) {\r\n      navigate(`/nft?search=${encodeURIComponent(searchQuery)}`);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/user/me\", {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        credentials: \"include\",\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success && data.user) {\r\n        setLoading(true);\r\n\r\n        const res = await fetch(\"http://localhost:5000/user/contact\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          credentials: \"include\",\r\n          body: JSON.stringify({ subject, message }),\r\n        });\r\n\r\n        const result = await res.json();\r\n        if (result.success) {\r\n          toast.success(result.message || \"Message sent successfully!\");\r\n          setSubject(\"\");\r\n          setMessage(\"\");\r\n        } else {\r\n          toast.error(result.message || \"Failed to send message.\");\r\n        }\r\n      } else {\r\n        toast.error(\"You must be logged in to send a message.\");\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"Failed to check user authentication. Please try again.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\">\r\n      <Paper\r\n        elevation={3}\r\n        sx={{ padding: 5, textAlign: \"center\", marginBottom: 5 }}\r\n      >\r\n        <Typography variant=\"h3\" gutterBottom>\r\n          Welcome to NFT Marketplace\r\n        </Typography>\r\n        <Typography variant=\"h6\" gutterBottom>\r\n          Discover and trade unique NFTs\r\n        </Typography>\r\n        <TextField\r\n          fullWidth\r\n          variant=\"outlined\"\r\n          placeholder=\"Search for NFTs...\"\r\n          value={searchQuery}\r\n          onChange={(e) => setSearchQuery(e.target.value)}\r\n          onKeyDown={(e) => {\r\n            if (e.key === \"Enter\") handleSearch(e);\r\n          }}\r\n          sx={{ marginTop: 2, bgcolor: \"#fff\", borderRadius: 1 }}\r\n        />\r\n      </Paper>\r\n\r\n      <Paper elevation={3} sx={{ padding: 3, marginBottom: 5 }}>\r\n        <Typography variant=\"h5\" gutterBottom>\r\n          Contact Us\r\n        </Typography>\r\n        <form onSubmit={handleSubmit}>\r\n          <TextField\r\n            select\r\n            label=\"Subject\"\r\n            fullWidth\r\n            value={subject}\r\n            onChange={(e) => setSubject(e.target.value)}\r\n            margin=\"normal\"\r\n            required\r\n          >\r\n            {subjects.map((subj) => (\r\n              <MenuItem key={subj} value={subj}>\r\n                {subj}\r\n              </MenuItem>\r\n            ))}\r\n          </TextField>\r\n\r\n          <TextField\r\n            label=\"Message\"\r\n            fullWidth\r\n            multiline\r\n            rows={4}\r\n            value={message}\r\n            onChange={(e) => setMessage(e.target.value)}\r\n            margin=\"normal\"\r\n            required\r\n          />\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            fullWidth\r\n            disabled={loading}\r\n            sx={{ marginTop: 2 }}\r\n          >\r\n            {loading ? \"Sending...\" : \"Send Message\"}\r\n          </Button>\r\n        </form>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}